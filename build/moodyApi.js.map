{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 41ba7a0e7f7a5ecb5276","webpack:///external \"moment-timezone\"","webpack:///external \"mongoose\"","webpack:///external \"dotenv\"","webpack:///./src/models/article.js","webpack:///external \"mongoose-float\"","webpack:///external \"express\"","webpack:///./src/services/crawler.js","webpack:///external \"axios\"","webpack:///external \"colors\"","webpack:///./src/index.js","webpack:///external \"babel-polyfill\"","webpack:///./src/controllers/articleRouter.js","webpack:///./src/services/article.js","webpack:///./src/models/agoloArticle.js","webpack:///./src/models/cluster.js","webpack:///./src/models/feed.js","webpack:///./src/utils/trimCluster.js","webpack:///./src/utils/trimArticle.js","webpack:///./src/services/Agolo.js","webpack:///external \"cheerio\"","webpack:///external \"underscore\"","webpack:///external \"puppeteer\"","webpack:///./src/constants/index.js","webpack:///external \"http\"","webpack:///./src/utils/connectToMongo.js","webpack:///./src/cron/index.js","webpack:///external \"node-cron\"","webpack:///external \"website-scraper\""],"names":["process","env","NODE_ENV","require","config","ArticleSchema","Schema","id","Types","ObjectId","summary_title","String","summary_points","Array","site_name","site_url","article_url","original_text","original_header","summarized","Boolean","project","date_written","connection","createConnection","MONGO_URL","Article","model","crawler","articles","getUrls","url","articleListSelector","console","log","yellow","launch","headless","browser","newPage","page","goto","waitUntil","timeout","content","html","$","load","articleUrls","i","length","push","attribs","href","green","bold","close","message","getContent","crawlParams","articlePrependUrl","articleHeaderSelector","articleDateSelector","articleTextSelector","hasWriter","hasHeader","hasDate","siteArticles","articleUrl","articleHeader","text","articleWriter","articleDate","articleText","article","date","header","writer","getAll","companies","allSitesArticles","company","siteArticlesWithInfo","name","saveAndSummarizeToDb","j","originalText","originalHeader","options","title","summary_length","coref","sort_by_salience","include_all_sentences","summarizer","summarize","summarizedArticle","query","findOneAndUpdate","upsert","error","cyan","getPage","Crawler","app","server","createServer","use","listen","PORT","setInterval","https","get","articleRouter","Router","req","res","projectId","params","projects","set","status","send","results","projectToFeedId","DUMP","articleId","site","publishedAt","cluster","clusterId","points","score","SCRAPED_PROJECTS","includes","find","feedId","startDate","Date","setHours","setDate","getDate","feed_id","$gte","$exists","summary","$ne","$not","$size","deleted","clusters","fullClusters","articleIds","findOne","_id","trimmedCluster","fullCluster","ArticleService","Float","loadType","original_id","sources","published_at","retrieved_at","feed_ids","AGOLO_MONGO_URL","AgoloArticle","ClusterSchema","_text_index","_title_index","active","Number","created_at","dates","last_updated_at","photos","scores","size","summary_uptodate","timestamps","Object","Cluster","FeedSchema","paused","start_time","end_time","suggestedKeywords","user_id","users","selectedSources","kafka_partition_id","percolatorQuery","historical_query","Feed","trimCluster","summaries","sentences","tz","format","trimArticle","agolo","summarizer_options","AgoloAxios","create","baseURL","AGOLO_URL","headers","AGOLO_API_KEY","post","response","data","Agolo","COMPANY_SITES","articleWriterSelector","connectToMongo","connect","err","client","crawlContentTimes","companyCrawlJob","schedule","start","initCronJob"],"mappings":"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","file":"moodyApi.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"api\"] = factory();\n\telse\n\t\troot[\"api\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 41ba7a0e7f7a5ecb5276","module.exports = require(\"moment-timezone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment-timezone\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 2\n// module chunks = 0","import mongoose from 'mongoose';\n\nif (process.env.NODE_ENV === 'local') {\n  require('dotenv').config();\n}\n\nconst ArticleSchema = new mongoose.Schema({\n  id: mongoose.Schema.Types.ObjectId,\n  summary_title: String,\n  summary_points: Array,\n  site_name: String,\n  site_url: String,\n  article_url: String,\n  original_text: String,\n  original_header: String,\n  summarized: Boolean,\n  project: String,\n  date_written: String\n});\n\nconst connection = mongoose.createConnection(process.env.MONGO_URL);\nconst Article = connection.model('Article', ArticleSchema);\n\nexport default Article;\n\n\n// WEBPACK FOOTER //\n// ./src/models/article.js","module.exports = require(\"mongoose-float\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-float\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","import axios from 'axios';\nimport Agolo from 'services/Agolo';\nimport cheerio from 'cheerio';\nimport colors from 'colors';\nimport moment from 'moment-timezone';\nimport { uniq } from 'underscore';\nimport puppeteer from 'puppeteer';\n\nimport Article from '../models/article';\nimport { COMPANY_SITES } from '../constants';\n\n// Types for Flow\ntype crawlParamsType = {\n  articleUrls: Array<string>,\n  articlePrependUrl: string,\n  articleHeaderSelector: string,\n  articleDateSelector: string,\n  articleTextSelector: string,\n  hasWriter: boolean,\n  hasHeader: boolean,\n  hasDate: boolean,\n}\n\ntype articleType = {\n  date: string,\n  header: string,\n  text: string,\n  writer: string,\n  url: string,\n}\n\ntype siteArticlesWithInfoType = {\n  siteArticles: Array<articleType>,\n  name: string,\n  url: string,\n}\n\n// Similar to agolo.js, TOOD: Refactor to type.js file in constant\ntype summarizerOptions = {\n  title: string,\n  text: string,\n  summary_length: number,\n  coref: boolean,\n  sort_by_salience: boolean,\n  include_all_sentences: boolean,\n}\n\nfunction crawler() {\n  this.articles = {\n    /**\n     * @description Gets all articleUrls from a open news web page\n     */\n    getUrls: async (url: string, articleListSelector: string) => {\n      try {\n        console.log(colors.yellow(`> [Crawling] for article Urls ${url}`));\n        // const browser = await puppeteer.launch({ args: ['--no-sandbox, --disable-setuid-sandbox'], headless: true, ignoreHTTPSErrors: true });\n        const browser = await puppeteer.launch({ headless: true });\n        const page = await browser.newPage();\n        await page.goto(url, { waitUntil: ['load', 'domcontentloaded', 'networkidle2'], timeout: 60000 }); // 60s per page\n        const html = await page.content();\n        const $ = cheerio.load(html);\n        const articles = $(articleListSelector);\n        let articleUrls: Array<string> = [];\n\n        // Push all articles into array\n        for (let i = 0; i < articles.length; i++) {\n          articleUrls.push(`${articles[i].attribs.href}`);\n        }\n\n        // Clean articles to remove duplicate links if any\n        articleUrls = uniq(articleUrls);\n        console.log(colors.green.bold(`> Found ${articleUrls.length} unique article links`));\n        await browser.close();\n        return articleUrls;\n      } catch (error) {\n        console.log('> Error in crawling for article urls: ', error.message);\n      }\n    },\n    /**\n     * @description Gets article content from an article web page\n     */\n    getContent: async (crawlParams: crawlParamsType) => {\n      const {\n        articleUrls,\n        articlePrependUrl,\n        articleHeaderSelector,\n        articleDateSelector,\n        articleTextSelector,\n        hasWriter,\n        hasHeader,\n        hasDate\n      } = crawlParams;\n      let siteArticles = [];\n      const browser = await puppeteer.launch({ headless: true });\n      for (let i = 0; i < articleUrls.length; i++) {\n        try {\n          const articleUrl = articleUrls[i];\n          console.log(colors.bold.green(`> [Scraping] article url for content: ${articlePrependUrl}${articleUrl}`));\n          // const browser = await puppeteer.launch({ args: ['--no-sandbox, --disable-setuid-sandbox'], headless: true, ignoreHTTPSErrors: true });\n          const page = await browser.newPage();\n          await page.goto(`${articlePrependUrl}${articleUrl}`, { waitUntil: ['load', 'domcontentloaded', 'networkidle2'], timeout: 60000 });\n          const html = await page.content();\n          const $ = cheerio.load(html);\n          const articleHeader = hasHeader ? $(articleHeaderSelector).text() : '';\n          const articleWriter = hasWriter ? $(articleHeaderSelector).text() : '';\n          const articleDate = hasDate ? $(articleDateSelector).text() : '';\n          const articleText = $(articleTextSelector).text();\n          const article: articleType = {\n            date: articleDate,\n            header: articleHeader,\n            text: articleText,\n            writer: articleWriter,\n            url: `${articlePrependUrl}${articleUrl}`,\n          }\n          // TODO: Do not push all article that are written more than 24 hours ago.\n          siteArticles.push(article);\n        } catch (error) {\n          console.log(`Error scraping url: ${articleUrls[i]}: \\n ${error.message}`);\n        }\n      }\n      await browser.close();\n      return siteArticles;\n    },\n    /**\n     * @description Crawl all article urls from a list of company sites and subsequently crawl all their contents\n     */\n    getAll: async (companies: Array<any>) => {\n      let allSitesArticles = [];\n      for (let i = 0; i < companies.length; i++) {\n        try {\n          const company = companies[i];\n          const articleUrls: Array<string> = await this.articles.getUrls(company.url, company.articleListSelector);\n          const siteArticles = await this.articles.getContent({\n            articleUrls,\n            articlePrependUrl: company.articlePrependUrl,\n            articleHeaderSelector: company.articleHeaderSelector,\n            articleDateSelector: company.articleDateSelector,\n            articleTextSelector: company.articleTextSelector,\n            hasWriter: company.hasWriter,\n            hasHeader: company.hasHeader,\n            hasDate: company.hasDate,\n          });\n          const siteArticlesWithInfo: siteArticlesWithInfoType = {\n            siteArticles,\n            name: company.name,\n            url: company.url,\n          }\n          allSitesArticles.push(siteArticlesWithInfo);\n        } catch (error) {\n          console.log('> Error in getAll: ', error.message);\n        }\n      }\n      return allSitesArticles;\n    },\n    /**\n     * @description save each article from each\n     */\n    saveAndSummarizeToDb: async () => {\n      const allSitesArticles: Array<siteArticlesWithInfoType> = await this.articles.getAll(COMPANY_SITES);\n      for (let i = 0; i < allSitesArticles.length; i++) {\n        const siteArticlesWithInfo: siteArticlesWithInfoType = allSitesArticles[i];\n        const { name, url, siteArticles } = siteArticlesWithInfo;\n        for (let j = 0; j < siteArticles.length; j++) {\n          try {\n            const article: articleType = siteArticles[j];\n            const originalText: string = article.text;\n            const originalHeader: string = article.header;\n            const options: summarizerOptions = {\n              title: article.header,\n              text: article.text,\n              summary_length: 10,\n              coref: false,\n              sort_by_salience: true,\n              include_all_sentences: false,\n            };\n            const { summary_title, summary_points } = await Agolo.summarizer.summarize(options);\n            const summarizedArticle = {\n              summary_title: summary_title,\n              summary_points: summary_points,\n              site_name: name,\n              site_url: url,\n              article_url: article.url,\n              original_text: originalText,\n              original_header: originalHeader,\n              summarized: true,\n              project: 'IB-III',\n              date_written: article.date,\n            };\n            const query = { article_url: summarizedArticle.article_url };\n            // Only save articles of unique article urls\n            await Article.findOneAndUpdate(query, summarizedArticle, { upsert: true }, function (error) {\n              if (error) {\n                console.log('> Error saving article:', error.message);\n              }\n              console.log(colors.bold.cyan(`> [Saving] Summarized Article to Db: ${summarizedArticle.article_url}`));\n            });\n          } catch (error) {\n            console.log(`Error in summarizing article:: \\n${error.message}`);\n          }\n        }\n      }\n    },\n    getPage: async () => {\n      // const browser = await puppeteer.launch({ args: ['--no-sandbox, --disable-setuid-sandbox'], headless: true, ignoreHTTPSErrors: true });\n      const browser = await puppeteer.launch({ headless: true });\n      const page = await browser.newPage();\n      const url = 'http://localhost:3000/';\n      await page.goto(url, { waitUntil: ['load', 'domcontentloaded', 'networkidle2'], timeout: 60000 }); // 60s per page\n      const html = await page.content();\n      await browser.close;\n      return html;\n    }\n  }\n}\n\nconst Crawler = new crawler();\nexport default Crawler;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/crawler.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"colors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"colors\"\n// module id = 8\n// module chunks = 0","import 'babel-polyfill';\n\nimport articleRouter from 'controllers/articleRouter';\nimport express from 'express';\nimport http from 'http';\nimport connectToMongo from './utils/connectToMongo';\nimport initCronJob from './cron';\nimport scrape from 'website-scraper';\n\nif (process.env.NODE_ENV === 'local') {\n  require('dotenv').config();\n}\n\nlet app = express();\n\n/* Creates server and web socket */\nconst server = http.createServer(app);\n\n/* Set up apps with routers and their root URLs here */\napp.use('/article', articleRouter);\n\n\n/* Initialize server locally */\nserver.listen(process.env.PORT, async (error) => {\n  if (error) {\n    console.log(`Error initializing server: ${error}`);\n  }\n  if (process.env.NODE_ENV === 'local') {\n    console.log(`> Server is ready on http://localhost:${process.env.PORT}`);\n  } else {\n    console.log('> Server is ready!');\n  }\n  // await connectToMongo();\n  // Run cronjob to update DB\n  // initCronJob();\n});\n\n\n// To keep Heroku App alive\nsetInterval(function() {\n  https.get(\"https://moody-api-poc.herokuapp.com/\");\n}, 300000); // every 5 minutes (300000)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 10\n// module chunks = 0","import ArticleService from 'services/article';\nimport express from 'express';\nimport Crawler from 'services/crawler'; // For test\n\nlet articleRouter = express.Router();\n\n/* Fetches the summarized articles in the last 24/7 given a project */\narticleRouter.get('/project/:projectId', async (req, res) => {\n  try {\n    const { projectId } = req.params;\n    const articles = await ArticleService.projects.get(projectId);\n    res.set({\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Credentials': true,\n      'Access-Control-Allow-Origin': '*',\n    })\n    res.status(200).send(articles);\n  } catch (error) {\n    res.status(500).send({ error: error.message });\n  }\n});\n\narticleRouter.get('/crawl/:projectId', async (req, res) => {\n  try {\n    const results = await Crawler.articles.saveAndSummarizeToDb();\n    res.status(200).send('Crawl done!');\n  } catch (error) {\n    res.status(500).send({ error: error.message });\n  }\n});\n\narticleRouter.get('/page/get', async (req, res) => {\n  try {\n    const page = await Crawler.articles.getPage();\n    res.set({\n      'Content-Type': 'application/json',\n      'Access-Control-Allow-Credentials': true,\n      'Access-Control-Allow-Origin': '*',\n    })\n    res.status(200).send(page);\n    res.status(200).send('Crawl done!');\n  } catch (error) {\n    res.status(500).send({ error: error.message });\n  }\n});\n\n\n\nexport default articleRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/articleRouter.js","import moment, { lang } from 'moment-timezone';\n\nimport Article from '../models/article';\nimport AgoloArticle from '../models/agoloArticle';\nimport Cluster from '../models/cluster';\nimport Feed from '../models/feed';\nimport trimCluster from '../utils/trimCluster';\nimport trimArticle from '../utils/trimArticle';\n\n// Mapping of Feed Ids to project\nconst projectToFeedId = {\n  'IR-I': '5b2b989ca71f7b2ffc7401ac', // Production feed\n  'IR-II': '5b2acbbb2d25a39cf00935ca', // Production feed\n  'IR-III': '5b2acbec2d25a39cf00935cb', // Production feed\n  'IB-I': '5b2ba0dda71f7b2ffc7401b0', // Production feed\n  'IB-II': '5b2ba12ba71f7b2ffc7401b2', // Production feed\n  'IB-III-feed': '5b2ba2672d25a39cf00935d1', // Production feed\n}\n\nconst DUMP = [{\n  articles: [{\n    articleId: 'aasdma',\n    site: 'Bloombergview',\n    text: 'Donald Trump, in an interview...',\n    title: 'Nixon failed',\n    url: 'www.google.com',\n    publishedAt: 'June 19 2018'\n  },\n  {\n    articleId: 'aasdma',\n    site: 'Bloombergview',\n    text: 'Donald Trump, in an interview...',\n    title: 'Nixon failed',\n    url: 'www.google.com',\n    publishedAt: 'June 18 2018'\n  }],\n  cluster: {\n    clusterId: 'a;sdmas;d',\n    points: ['Hello', 'world'],\n    summary_title: 'Donald Trump!',\n    score: 5.00,\n    date_written: 'June 20, 2018',\n  }\n}];\n\nconst SCRAPED_PROJECTS = ['IB-III'];\n\nfunction article() {\n  this.projects = {\n    getAll: async () => {\n    },\n    get: async (projectId: string) => {\n      console.log('> Fetching articles for project:', projectId);\n      // Check if project is manually scraped. If it is, use main DB\n      if (SCRAPED_PROJECTS.includes(projectId)) {\n        const articles = await Article.find({ project: projectId });\n        return articles;\n      }\n\n      // If project is a feed on Agolo webapp, use Agolo DB to get cluster\n      const feedId = projectToFeedId[projectId];\n      if (!feedId) {\n        return [];\n      }\n      console.log(`> Project ${projectId} belongs to Feed: \"${feedId}\"`);\n      let startDate = new Date();\n      startDate.setHours(0, 0, 0, 0);\n      startDate.setDate(startDate.getDate() - 1);\n      const clusters = await Cluster.find({\n        feed_id: feedId,\n        'timestamps.article_timestamps.first_article_published': { $gte: startDate, $exists: true }, // Only get clusters joined last 48 hours\n        // 'timestamps.article_timestamps.latest_article_published': { $gte: startDate, $exists: true },\n        summary: { $exists: true, $ne: null, $not: { $size: 0, }, },\n        articles: { $exists: true, $ne: null, $not: { $size: 0, }, },\n        deleted: { $ne: true },\n      }, 'title summary articles score _id last_updated_at');\n      let fullClusters = [];\n      console.log(`Found ${clusters.length} for project ${projectId}`);\n      // Naively look for all articles belonging to a cluster, an improvement would be to query for all articles matching the feed and then matching it with the cluster of interest\n      for (let i = 0; i < clusters.length; i++) {\n        let articles = [];\n        let cluster = clusters[i];\n        const articleIds = cluster.articles;\n        for (let j = 0; j < articleIds.length; j++) {\n          const articleId = articleIds[j];\n          const article = await AgoloArticle.findOne({ _id: articleId }, 'url text sources title _id published_at');\n          // Save articles that make up the cluster\n          articles.push(trimArticle(article));\n        }\n        // Do not pass down fields we are not interested in\n        const trimmedCluster = trimCluster(cluster);\n        const fullCluster = {\n          articles,\n          cluster: trimmedCluster,\n        }\n        fullClusters.push(fullCluster);\n      }\n      return fullClusters;\n    },\n  }\n}\n\nconst ArticleService = new article();\nexport default ArticleService;\n\n\n// WEBPACK FOOTER //\n// ./src/services/article.js","import mongoose from 'mongoose';\nimport mongfloat from 'mongoose-float';\nconst Float = mongfloat.loadType(mongoose); // Work around package since Mongoose do not natively support Float\n\nif (process.env.NODE_ENV === 'local') {\n  require('dotenv').config();\n}\n\nconst ArticleSchema = new mongoose.Schema({\n  _id: mongoose.Schema.Types.ObjectId,\n  original_id: String,\n  text: String,\n  sources: Array,\n  published_at: Date,\n  retrieved_at: Date,\n  title: String,\n  url: String,\n  feed_ids: Array,\n});\n\nconst connection = mongoose.createConnection(process.env.AGOLO_MONGO_URL);\nconst AgoloArticle = connection.model('articles', ArticleSchema);\n\nexport default AgoloArticle;\n\n\n// WEBPACK FOOTER //\n// ./src/models/agoloArticle.js","import mongoose from 'mongoose';\nimport mongfloat from 'mongoose-float';\nconst Float = mongfloat.loadType(mongoose); // Work around package since Mongoose do not natively support Float\n\nif (process.env.NODE_ENV === 'local') {\n  require('dotenv').config();\n}\n\nconst ClusterSchema = new mongoose.Schema({\n  _id: mongoose.Schema.Types.ObjectId,\n  _text_index: Array,\n  _title_index: Array,\n  active: Number,\n  articles: Array,\n  created_at: Date,\n  dates: Array,\n  feed_id: String,\n  last_updated_at: Date,\n  photos: Array,\n  score: Float,\n  scores: Array,\n  size: Number,\n  sources: Array,\n  summary: Array,\n  summary_uptodate: Boolean,\n  timestamps: Object,\n  title: String,\n});\n\nconst connection = mongoose.createConnection(process.env.AGOLO_MONGO_URL);\nconst Cluster = connection.model('clusters', ClusterSchema);\n\nexport default Cluster;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cluster.js","import mongoose from 'mongoose';\n\nif (process.env.NODE_ENV === 'local') {\n  require('dotenv').config();\n}\n\nconst FeedSchema = new mongoose.Schema({\n  _id: String,\n  name: String,\n  paused: Boolean,\n  deleted: Boolean,\n  created_at: Date,\n  start_time: Date,\n  end_time: Date,\n  query: String,\n  suggestedKeywords: Array,\n  user_id: String,\n  users: Array,\n  selectedSources: Array,\n  sources: Object,\n  kafka_partition_id: Number,\n  percolatorQuery: Object,\n  historical_query: Object,\n});\n\nconst connection = mongoose.createConnection(process.env.AGOLO_MONGO_URL);\nconst Feed = connection.model('feeds', FeedSchema);\n\nexport default Feed;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/feed.js","import moment from 'moment-timezone';\n\nconst trimCluster = (cluster) => {\n  // Parse sentences\n  const summaries = cluster.summary;\n  let points = [ ];\n  for (let i = 0; i < summaries.length; i ++) {\n    const summary = summaries[i];\n    for (let j = 0; j < summary.sentences.length; j ++) {\n      points.push(summary.sentences[j]);\n    }\n  }\n  return {\n    clusterId: cluster._id,\n    points,\n    summary_title: cluster.title,\n    score: cluster.score,\n    date_written: moment().tz('America/New_York').format('LL'), // June 20, 2018\n  }\n}\n\nexport default trimCluster;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/trimCluster.js","import moment from 'moment-timezone';\n\nconst trimArticle = (article) => {\n  return {\n    articleId: article._id,\n    site: article.sources[0].name,\n    text: article.text,\n    title: article.title,\n    url: article.url,\n    publishedAt: moment(article.published_at).tz('America/New_York').format('LL'), // June 20, 2018\n  }\n}\n\nexport default trimArticle;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/trimArticle.js","//@flow\nimport axios from 'axios';\n\n// Connect to DB\n\n// Types for flow\ntype summarizerOptions = {\n  title: string,\n  text: string,\n  summary_length: number,\n  coref: boolean,\n  sort_by_salience: boolean,\n  include_all_sentences: boolean,\n}\n\nfunction agolo() {\n  this.summarizer = {\n    summarize: async (options: summarizerOptions) => {\n      // Prepare options for summarizing\n      const { title, text, summary_length, coref, sort_by_salience, include_all_sentences } = options;\n      const article = { title, text };\n      const summarizer_options = {\n        summary_length,\n        articles: [article],\n        coref,\n        sort_by_salience,\n        include_all_sentences,\n      };\n      // Request for Agolo's API\n      const AgoloAxios = axios.create({\n        baseURL: process.env.AGOLO_URL,\n        headers: {\n          'Content-Type': 'application/json',\n          'Ocp-Apim-Subscription-Key': process.env.AGOLO_API_KEY,\n        }\n      });\n      // Make request to Agolo Summarizer API & return\n      const response = await AgoloAxios.post('/', summarizer_options);\n      return ({ summary_title: response.data.title, summary_points: response.data.summary[0].sentences });\n    },\n  }\n}\n\nconst Agolo = new agolo();\nexport default Agolo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/Agolo.js","module.exports = require(\"cheerio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cheerio\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"underscore\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"puppeteer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"puppeteer\"\n// module id = 21\n// module chunks = 0","export const COMPANY_SITES = [\n  {\n    name: 'Dubai Holding',\n    url: 'https://dubaiholding.com/en/media-hub/press-releases/',\n    articlePrependUrl: '',\n    articleListSelector: 'div.summary-wrap > h4 > a',\n    articleHeaderSelector: 'div.container > h2',\n    articleDateSelector: 'div.container > strong',\n    articleTextSelector: 'div.container > p',\n    articleWriterSelector: '',\n    hasWriter: false,\n    hasHeader: true,\n    hasDate: true,\n  },\n  {\n    name: 'Dubai Duty Free',\n    url: 'https://www.dubaidutyfree.com/media_center/news',\n    articlePrependUrl: 'https://www.dubaidutyfree.com/', // Some hrefs need to be prepended\n    articleListSelector: 'div.col-md-6.awards-blk > a.item-title',\n    articleHeaderSelector: 'span.item-title',\n    articleDateSelector: 'span.date',\n    articleTextSelector: 'div.col-md-12.awards-details > p',\n    articleWriterSelector: '',\n    hasWriter: false,\n    hasHeader: true,\n    hasDate: true,\n  },\n  {\n    name: 'du',\n    url: 'http://www.du.ae/about-us/media-centre/news',\n    articlePrependUrl: '',\n    articleListSelector: 'div.media-content > p > a.press-release-title',\n    articleHeaderSelector: 'h1.title.news-title',\n    articleDateSelector: 'p.news-date',\n    articleTextSelector: 'div.contentIn div:nth-child(6)',\n    articleWriterSelector: '',\n    hasWriter: false,\n    hasHeader: true,\n    hasDate: true,\n  },\n  {\n    name: 'Al Futtaim',\n    url: 'http://www.alfuttaim.com/home/mediacentre/News?className=AllNews&brandSelector=News&newscategory=AFGCorporate_design/MediaCentre/News/AllNews',\n    articlePrependUrl: 'http://www.alfuttaim.com',\n    articleListSelector: 'div.col-md-4.col-sm-6.col-xs-12 > a',\n    articleHeaderSelector: 'h2.news-video-details__title',\n    articleDateSelector: 'div.news-video-details__content__header',\n    articleTextSelector: 'div.news-video-details__content__detail.Description > p',\n    articleWriterSelector: '',\n    hasWriter: false,\n    hasHeader: true,\n    hasDate: true,\n  },\n  {\n    name: 'Dubai Electricity and Water Authority',\n    url: 'https://www.dewa.gov.ae/en/about-dewa/news-and-media/press-and-news/latest-news',\n    articlePrependUrl: 'https://www.dewa.gov.ae/',\n    articleListSelector: 'div.m8-teaser > a',\n    articleHeaderSelector: 'h1.text__page-title',\n    articleDateSelector: 'div.text__content-subcopy',\n    articleTextSelector: 'div.m14-richtext > p',\n    articleWriterSelector: '',\n    hasWriter: false,\n    hasHeader: true,\n    hasDate: true,\n  }\n  // USING RSS FROM GOOGLE NEWS ALERT - The article sites have routing problem.\n  // {\n  //   url: 'http://www.empower.ae/news.php',\n  //   articlePrependUrl: 'http://www.empower.ae/',\n  //   articleListSelector: '#news > p > a',\n  //   articleHeaderSelector: 'h3',\n  //   articleDateSelector: 'i',\n  //   articleTextSelector: 'div.col-lg-8.col-md-8.col-sm-8 p:nth-child(5)',\n  //   articleWriterSelector: '',\n  //   hasWriter: false,\n  //   hasHeader: true,\n  //   hasDate: true,\n  // },\n]\n\n\n// WEBPACK FOOTER //\n// ./src/constants/index.js","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 23\n// module chunks = 0","import mongoose from 'mongoose';\nimport Article from '../models/article';\n\nfunction connectToMongo() {\n  mongoose.connect(process.env.MONGO_URL, async function (err, client) {\n    if (err) {\n      console.log('> Error connecting to DB:', err.message);\n    }\n    console.log('> Successfully connected to mongoDB');\n  });\n}\n\nexport default connectToMongo;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/connectToMongo.js","// Cronjob for crawling and summarizing articles\nimport colors from 'colors';\nimport Crawler from 'services/crawler';\nimport cron from 'node-cron';\nimport crawler from '../services/crawler';\nimport moment from 'moment-timezone';\n\nasync function initCronJob() {\n  /* Seconds, minutes, hours, day of month, months, day of week */\n  let crawlContentTimes = '00 00 07 * * *';\n  // let crawlContentJob = new CronJob(crawlContentTimes, () => crawler.articles.saveAndSummarizeToDb(), null, true, 'America/New_York');\n  // const companyCrawlJob = new cron.CronJob({\n  //   cronTime: '00 00 07 * * *',\n  //   onTick: () => crawler.articles.saveAndSummarizeToDb(),\n  //   start: true,\n  //   timeZone: 'America/New_York'\n  // });\n  // companyCrawlJob.start();\n  // console.log('> Company crawl job status:', companyCrawlJob.running);\n  const companyCrawlJob = cron.schedule('* * 07 * *', function () {\n    console.log(`> Starting daily crawl at: ${moment().tz('America/New_York').format('LLLL')}`);\n    crawler.articles.saveAndSummarizeToDb();\n  }, false);\n  companyCrawlJob.start();\n}\n\nexport default initCronJob;\n\n\n// WEBPACK FOOTER //\n// ./src/cron/index.js","module.exports = require(\"node-cron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-cron\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"website-scraper\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"website-scraper\"\n// module id = 27\n// module chunks = 0"],"sourceRoot":""}